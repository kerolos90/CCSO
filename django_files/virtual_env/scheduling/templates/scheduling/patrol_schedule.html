{% extends "layout.html" %} 
{% load static %}

{% block head %}
  {% comment %} <link href= {% static 'libs/@fullcalendar/core/main.min.css' %} rel="stylesheet" type="text/css" />
  <link href= {% static 'libs/@fullcalendar/daygrid/main.min.css' %} rel="stylesheet" type="text/css" />
  <link href= {% static 'libs/@fullcalendar/bootstrap/main.min.css' %} rel="stylesheet" type="text/css" />
  <link href= {% static 'libs/@fullcalendar/timegrid/main.min.css' %} rel="stylesheet" type="text/css" /> {% endcomment %}
{% endblock head %}

{% block content%}

<div class="main-content">
<div class="page-content">
  <div class="container-fluid">
    <div class="card shadow">
      <div class="card-body">
        <h3 class="text-center">Patrol Schedule
          <button                   id="my-button"          >Test</button>
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="row">
          <div class="col-xl-6 col-lg-8">
            <div class="card shadow">
              <div class="card-body">
                <div id="calendar"></div>
              </div>
            </div>
          </div>
          <!-- end col -->
      {% include 'scheduling/partials/schedule.html' %}          
          <!-- end col-->
        </div>
        <!-- end row -->

        <div style="clear: both"></div>

        <!-- Time off Request Modal -->
        <form method="POST">
          {% comment %} {% csrf_token %} {% endcomment %}
        <div class="modal fade" id="timeOffModal" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header py-3 px-4 border-bottom-0">
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-hidden="true"
                ></button>
              </div>
              <h5 class="text-center">Time Off Request</h5>

              <div class="modal-body p-4">
                <div>
                  {{form}} 
                  {% comment %} <label for="start-date-input" class="form-label"
                    >Start Date:</label
                  >
                  <input
                    class="form-control"
                    name="start-date-input"
                    type="datetime-local"
                    value=""
                    id="start-date-input"
                  /> {% endcomment %}

                </div>
                <br />
                {% comment %} <div>
                  <label for="end-date-input" class="form-label"
                    >End Date:</label
                  >
                  <input
                    name="end-date-input"
                    class="form-control"
                    type="datetime-local"
                    value="2019-08-19T13:45:00"
                    id="end-date-input"
                  />
                </div> {% endcomment %}
                <br />
                <div class="text-center">
                  Benefit Time Used (check all that apply)
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckDefault"
                  />
                  <label class="form-check-label" for="flexCheckDefault">
                    Vacation Time
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckChecked"
                  />
                  <label class="form-check-label" for="flexCheckChecked">
                    Comp. Time
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckChecked"
                  />
                  <label class="form-check-label" for="flexCheckChecked">
                    Personal Time
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckChecked"
                  />
                  <label class="form-check-label" for="flexCheckChecked">
                    Holiday Time
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckChecked"
                  />
                  <label class="form-check-label" for="flexCheckChecked">
                    Sick Time
                  </label>
                </div>
                <br />
                <div class="mb-3">
                  <label for="commentSection" class="form-label"
                    >Comments (Optional):</label
                  >
                  <textarea
                    name="commentSection"
                    class="form-control"
                    id="commentSection"
                    rows="3"
                  ></textarea>
                </div>
                <!--Submit and Cancel buttons  -->
                <div class="row mt-2">
                  <div class="col-6">
                    <button
                      type="button"
                      class="btn btn-danger"
                      id="btn-delete-event"
                    >
                      Cancel
                    </button>
                  </div>
                  <div class="col-6 text-end">
                    <button
                      type="submit"
                      class="btn btn-success"
                      id="btn-save-event"
                    >
                      Submit
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- end modal-content-->
          </div>
          <!-- end modal dialog-->
        </div>
        <!-- end modal -->
      </form>
        </div>
        <!-- end modal dialog-->
        
      </div>

    </div>
  </div>
</div>
<!-- container-fluid -->

</div>

{% endblock%}

{% block scripts %}
  {% comment %} <script src="{% static 'libs/@fullcalendar/core/main.min.js' %}"></script>
  <script src="{% static 'libs/@fullcalendar/bootstrap/main.min.js' %}"></script>
  <script src="{% static 'libs/@fullcalendar/daygrid/main.min.js' %}"></script>
  <script src="{% static 'libs/@fullcalendar/timegrid/main.min.js' %}"></script>
  <script src="{% static 'libs/@fullcalendar/interaction/main.min.js' %}"></script>

  <script src="{% static 'js/pages/calendar.init.js' %}"></script> {% endcomment %}


  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.0.2/index.global.min.js"></script>
  <script src="{% static 'scheduling/js/calendar.js' %}"></script> 

  {% comment %} HTMX CDN {% endcomment %}
  <script src="https://unpkg.com/htmx.org@1.8.4" integrity="sha384-wg5Y/JwF7VxGk4zLsJEcAojRtlVp1FKKdGy1qN+OMtdq72WRvX/EdRdqg/LOhYeV" crossorigin="anonymous"></script>
  <script>
    document.body.addEventListener('htmx:configRequest', (event) => {
      event.detail.headers['X-CSRF-Token'] = '{{ csrf_token }}';
    })

  </script>
{% endblock scripts %}