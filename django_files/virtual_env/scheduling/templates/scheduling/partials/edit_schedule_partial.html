{% load scheduling_extras %}

<table
  class="table table-bordered shadow"
  style="text-align: center"
  id="table-to-refresh"
  hx-target="this"
  hx-swap="outerHTML"
>
  <thead>
    <tr>
      <th colspan="4">
        <button
          type="button"
          class="btn btn-light"
          hx-post="{% url 'patrol_schedule_partial' %}"
          hx-include="closest table"
        >
          Done
        </button>
      </th>
    </tr>
    <tr>
      <th width="23" style="text-align: center">Beat:</th>
      <th width="23%" scope="col">0600-1000</th>
      <th width="23%" scope="col">1000-1400</th>
      <th width="23%" scope="col">1400-1800</th>
    </tr>
  </thead>
  <tbody>
    <form>
      {% for key, value in beats.items %}
      <tr>
        <th scope="row">{{value}}</th>
        {% for section in hours %} {% with key|addstr:section as beat_section %}
        <td>{{editScheduleForm|get_value:beat_section}}</td>
        {% endwith %} {% endfor %}
      </tr>
      {% endfor %}
    </form>
  </tbody>
</table>
