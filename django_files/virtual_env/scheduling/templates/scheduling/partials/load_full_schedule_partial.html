{% load scheduling_extras %}
<table
  class="table table-bordered shadow"
  style="text-align: center"
  id="table-to-refresh"
>
  <thead>
    <tr>
      <th width="30%" scope="col" colspan="2" style="text-align: center">
        Beat:
      </th>
      <th width="23%" scope="col">0600-1000</th>
      <th width="23%" scope="col">1000-1400</th>
      <th width="23%" scope="col">1400-1800</th>
    </tr>
  </thead>
  <tbody hx-target="this" hx-swap="outerHTML">
      {% for key, value in beats.items %}
      <tr id="{{key}}" >
        <td width="5%">
          <button
            type="submit"
            class="btn btn-light"
            hx-get="{% url 'edit_schedule'  %}"
          >
            Edit
          </button>
        </td>
        <th scope="row">{{value}}</th>
        {% for block in hours %} {% with key|addstr:block as block_attr %}
        <td>{{test_date|get_attribute:block_attr}}</td>
        {% endwith %} {% endfor %}
      </tr>
      {% endfor %}
  </tbody>
  
</table>

{% comment %} 

  <tbody hx-target="closest tr" hx-swap="outerHTML">
      {% for key, value in beats.items %}
      <tr id="{{key}}">
        <td width="5%">
          <button
            type="submit"
            class="btn btn-light"
            hx-get="{% url 'edit_schedule' key %}"
          >
            Edit
          </button>
        </td>
        <th scope="row">{{value}}</th>
        {% for block in hours %} {% with key|addstr:block as block_attr %}
        <td>{{test_date|get_attribute:block_attr}}</td>
        {% endwith %} {% endfor %}
      </tr>
      {% endfor %} {% endcomment %}