{% load scheduling_extras %}

<div class="col-xl-6 col-lg-4">
  <div class="card shadow">
    <div class="card-body">
      <div>
        <div class="d-flex justify-content-between">
          <button
            type="submit"
            class="btn btn-light shadow"
            hx-put="{% url 'edit_schedule' %}"
          >
            Edit Schedule
          </button>
          <button
            type="submit"
            class="btn btn-danger shadow"
            data-bs-toggle="modal"
            data-bs-target="#timeOffModal"
          >
            Time Off Request
          </button>
        </div>
        <h1 id="schedule_date" class="text-center">{{current_day}}</h1>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="day-tab"
              data-bs-toggle="tab"
              data-bs-target="#day"
              type="button"
              role="tab"
              aria-controls="day-tab"
              aria-selected="true"
            >
              Day Shift
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="night-tab"
              data-bs-toggle="tab"
              data-bs-target="#night"
              type="button"
              role="tab"
              aria-controls="night-tab"
              aria-selected="false"
            >
              Night Shift
            </button>
          </li>
        </ul>

        <div class="tab-content" id="myTabContent">
          <div
            class="tab-pane fade show active"
            id="day"
            role="tabpanel"
            aria-labelledby="day-tab"
          >
            <table
  class="table table-bordered shadow"
  style="text-align: center"
  id="table-to-refresh"
>
  <thead>
    <tr>
      <th width="23" style="text-align: center">
                  <button
            type="submit"
            class="btn btn-light shadow"
            hx-put="{% url 'edit_schedule' %}"
          >
            Edit Schedule
          </button>
        Beat:
      </th>
      <th width="23%" scope="col">0600-1000</th>
      <th width="23%" scope="col">1000-1400</th>
      <th width="23%" scope="col">1400-1800</th>
    </tr>
  </thead>
  <tbody hx-target="this" hx-swap="outerHTML">
      {% for key, value in beats.items %}
      <tr id="{{key}}" >
        <th scope="row">{{value}}</th>
        {% for block in hours %} {% with key|addstr:block as block_attr %}
        <td>{{test_date|get_attribute:block_attr}}</td>
        {% endwith %} {% endfor %}
      </tr>
      {% endfor %}
  </tbody>
  
</table>
          </div>

          <div
            class="tab-pane fade"
            id="night"
            role="tabpanel"
            aria-labelledby="night-tab"
          >
            <br />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
